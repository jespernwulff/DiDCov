% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_sensitivity_intervals.R
\name{compute_sensitivity_intervals}
\alias{compute_sensitivity_intervals}
\title{Compute Sensitivity Intervals Over Different Covariance Structures}
\usage{
compute_sensitivity_intervals(
  betahat,
  ci_lower,
  ci_upper,
  years,
  numPrePeriods,
  numPostPeriods,
  method = "constant",
  rho_values = c(0, 0.3, 0.5, 0.8),
  decay_types = c("exponential", "linear"),
  lambda_values = c(0.1, 0.2, 0.5, 1),
  ci_level = 0.95,
  Mbarvec = c(1),
  ...
)
}
\arguments{
\item{betahat}{A numeric vector of coefficients (effect sizes) for each time period.}

\item{ci_lower}{A numeric vector of lower bounds of the confidence intervals corresponding to each time period.}

\item{ci_upper}{A numeric vector of upper bounds of the confidence intervals corresponding to each time period.}

\item{years}{A numeric vector of years corresponding to the coefficients.}

\item{numPrePeriods}{An integer specifying the number of pre-treatment periods.}

\item{numPostPeriods}{An integer specifying the number of post-treatment periods.}

\item{method}{A character string specifying the covariance matrix construction method.
Must be one of "all", "constant", or "decay". Default is "all".}

\item{rho_values}{A numeric vector of rho values to use when method is "constant" or "all".
Default is \code{c(0, 0.3, 0.5, 0.8)}.}

\item{decay_types}{A character vector specifying decay types when method is "decay" or "all".
Possible values are "exponential" and "linear". Default is \code{c("exponential", "linear")}.}

\item{lambda_values}{A numeric vector of lambda values to use when method is "decay" or "all".
Default is \code{c(0.1, 0.2, 0.5, 1)}.}

\item{ci_level}{A numeric value between 0 and 1 indicating the confidence level of the confidence intervals. Default is \code{0.95}.}

\item{Mbarvec}{A numeric vector of values for Mbar to be used in the \code{HonestDiD} function. Default is \code{c(1)}.}

\item{...}{Additional arguments to pass to \code{HonestDiD::createSensitivityResults_relativeMagnitudes}.}
}
\value{
A list containing:
\describe{
\item{\code{widest_interval}}{A data frame with the widest interval, including the method and parameter used.}
\item{\code{narrowest_interval}}{A data frame with the narrowest interval, including the method and parameter used.}
\item{\code{all_intervals}}{A data frame with all computed intervals, including methods and parameters.}
}
}
\description{
Computes sensitivity results for the post-treatment coefficients over a range of covariance structures.
This function generates variance-covariance matrices for specified methods and parameters using the
provided functions and computes the corresponding confidence intervals using the \code{HonestDiD} package.
}
\examples{
\donttest{
# Simple example
years <- c(2008, 2009, 2010)
betahat <- c(0.05, 0.06, 0.07)
ci_lower <- c(0.02, 0.03, 0.04)
ci_upper <- c(0.08, 0.09, 0.10)
numPrePeriods <- 1
numPostPeriods <- 2

# Compute sensitivity intervals using fewer parameter values
result <- compute_sensitivity_intervals(
  betahat = betahat,
  ci_lower = ci_lower,
  ci_upper = ci_upper,
  years = years,
  numPrePeriods = numPrePeriods,
  numPostPeriods = numPostPeriods,
  method = "constant",
  rho_values = c(0, 0.5, 1),
  ci_level = 0.95,
  Mbarvec = c(1)
)
print(result$widest_interval)
print(result$narrowest_interval)
}
}
