% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_bound.R
\name{compute_bound}
\alias{compute_bound}
\title{Compute DeltaSD Bound (Lower or Upper) Across Multiple Rho Values, With Optional Scaling}
\usage{
compute_bound(
  betahat,
  ci_lower,
  ci_upper,
  numPrePeriods,
  rho_values = c(0, 0.3, 0.5, 0.8),
  ci_level = 0.95,
  aggregator = c("smallest", "largest", "median"),
  bound_type = c("lower", "upper"),
  scale = FALSE,
  ...
)
}
\arguments{
\item{betahat}{Numeric vector of estimated effects (e.g., from an event-study DiD).}

\item{ci_lower}{Numeric vector of lower CI bounds, same length as \code{betahat}.}

\item{ci_upper}{Numeric vector of upper CI bounds, same length as \code{betahat}.}

\item{numPrePeriods}{Integer indicating the number of pre-treatment periods.}

\item{rho_values}{Numeric vector in \code{[-1, 1]} for constant correlation assumptions.}

\item{ci_level}{Numeric, the confidence level used for constructing variances from CIs (default \code{0.95}).}

\item{aggregator}{Character in \code{c("smallest", "largest", "median")}.
Determines how to combine the set of computed bounds. Defaults to \code{"smallest"}.}

\item{bound_type}{Character in \code{c("lower", "upper")}, specifying which function to call:
\code{"lower"} uses \code{DeltaSD_lowerBound_Mpre}, \code{"upper"} uses \code{DeltaSD_upperBound_Mpre}.}

\item{scale}{Logical indicating whether to internally scale \code{betahat} and \code{sigma}.
Defaults to \code{FALSE}.}

\item{...}{Additional arguments passed to the underlying HonestDiD function
(e.g., \code{numPostPeriods}).}
}
\value{
A single numeric value (the aggregated DeltaSD bound). If \code{scale = TRUE},
the bound is on scaled units. To convert back to the original scale, multiply the result
by \eqn{\sqrt{\sigma_{\mathrm{post}}}}, where \eqn{\sigma_{\mathrm{post}}} is the variance
of the first post-treatment period before scaling.
}
\description{
This function:
\enumerate{
\item Approximates the variance of each estimate from \code{ci_lower}, \code{ci_upper}, and \code{ci_level}.
\item For each \code{rho} in \code{rho_values}, constructs a covariance matrix assuming constant correlation \eqn{\rho}.
\item Optionally scales \code{betahat} and \code{sigma} before calling
\code{DeltaSD_lowerBound_Mpre} or \code{DeltaSD_upperBound_Mpre}.
\item Aggregates the resulting single-number bounds (across all \code{rho}) by returning
the \code{smallest}, \code{largest}, or \code{median}.
}
}
